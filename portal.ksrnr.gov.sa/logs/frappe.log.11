2021-11-29 09:56:48,628 WARNING frappe Incoming email account "mail.services.gws.sa" not correct
Site: portal.ksrnr.gov.sa
Form Dict: {'doc': '{"docstatus":0,"doctype":"Email Domain","name":"new-email-domain-1","__islocal":1,"__unsaved":1,"owner":"Administrator","use_imap":0,"use_ssl":0,"attachment_limit":20,"use_tls":1,"use_ssl_for_outgoing":0,"append_emails_to_sent_folder":0,"domain_name":"ksrnr.gov.sa","email_id":"portal@ksrnr.gov.sa","email_server":"mail.services.gws.sa","incoming_port":"993","smtp_server":"esmtp.services.gws.sa","smtp_port":"587"}', 'action': 'Save', 'cmd': 'frappe.desk.form.save.savedocs'}
Traceback (most recent call last):
  File "/home/frappe-admin/frappe-bench/apps/frappe/frappe/email/doctype/email_domain/email_domain.py", line 44, in validate
    test = poplib.POP3(self.email_server, port=get_port(self))
  File "/usr/lib/python3.6/poplib.py", line 102, in __init__
    self.sock = self._create_socket(timeout)
  File "/usr/lib/python3.6/poplib.py", line 108, in _create_socket
    return socket.create_connection((self.host, self.port), timeout)
  File "/usr/lib/python3.6/socket.py", line 704, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
  File "/usr/lib/python3.6/socket.py", line 745, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno -2] Name or service not known
2021-11-29 09:56:56,563 INFO frappe Checking incoming IMAP email server mail.services.gws.sa:993 ssl=0...
Site: portal.ksrnr.gov.sa
Form Dict: {'doc': '{"docstatus":0,"doctype":"Email Domain","name":"new-email-domain-1","__islocal":1,"__unsaved":1,"owner":"Administrator","use_imap":1,"use_ssl":0,"attachment_limit":20,"use_tls":1,"use_ssl_for_outgoing":0,"append_emails_to_sent_folder":0,"domain_name":"ksrnr.gov.sa","email_id":"portal@ksrnr.gov.sa","email_server":"mail.services.gws.sa","incoming_port":"993","smtp_server":"esmtp.services.gws.sa","smtp_port":"587"}', 'action': 'Save', 'cmd': 'frappe.desk.form.save.savedocs'}
2021-11-29 09:56:56,565 WARNING frappe Incoming email account "mail.services.gws.sa" not correct
Site: portal.ksrnr.gov.sa
Form Dict: {'doc': '{"docstatus":0,"doctype":"Email Domain","name":"new-email-domain-1","__islocal":1,"__unsaved":1,"owner":"Administrator","use_imap":1,"use_ssl":0,"attachment_limit":20,"use_tls":1,"use_ssl_for_outgoing":0,"append_emails_to_sent_folder":0,"domain_name":"ksrnr.gov.sa","email_id":"portal@ksrnr.gov.sa","email_server":"mail.services.gws.sa","incoming_port":"993","smtp_server":"esmtp.services.gws.sa","smtp_port":"587"}', 'action': 'Save', 'cmd': 'frappe.desk.form.save.savedocs'}
Traceback (most recent call last):
  File "/home/frappe-admin/frappe-bench/apps/frappe/frappe/email/doctype/email_domain/email_domain.py", line 36, in validate
    test = imaplib.IMAP4(self.email_server, port=get_port(self))
  File "/usr/lib/python3.6/imaplib.py", line 198, in __init__
    self.open(host, port)
  File "/usr/lib/python3.6/imaplib.py", line 299, in open
    self.sock = self._create_socket()
  File "/usr/lib/python3.6/imaplib.py", line 289, in _create_socket
    return socket.create_connection((host, self.port))
  File "/usr/lib/python3.6/socket.py", line 704, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
  File "/usr/lib/python3.6/socket.py", line 745, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno -2] Name or service not known
2021-11-29 10:09:11,557 INFO frappe Checking incoming IMAP email server gwsmail.gws.sa:993 ssl=0...
Site: portal.ksrnr.gov.sa
Form Dict: {'doc': '{"docstatus":0,"doctype":"Email Domain","name":"new-email-domain-2","__islocal":1,"__unsaved":1,"owner":"Administrator","use_imap":1,"use_ssl":0,"attachment_limit":20,"use_tls":1,"use_ssl_for_outgoing":0,"append_emails_to_sent_folder":0,"email_id":"portal@ksrnr.gov.sa","email_server":"gwsmail.gws.sa","domain_name":"ksrnr.gov.sa","smtp_server":"esmtp.services.gws.sa","incoming_port":"993","smtp_port":"587"}', 'action': 'Save', 'cmd': 'frappe.desk.form.save.savedocs'}
